# Server Configuration
# Defines the port on which the application will run
server:
  port: 8081
  address: 0.0.0.0

spring:
  # Application Identity
  # Unique name for this service in the microservices architecture
  application:
    name: customer-service

  # Database Connection Settings
  # PostgreSQL database configuration for production-like environment
  datasource:
    url: jdbc:postgresql://localhost:5432/subscription_db
    username: subscription_user
    password: subscription_pass
    driver-class-name: org.postgresql.Driver

  # JPA (Java Persistence API) Configuration
  # Hibernate ORM settings for database operations
  jpa:
    hibernate:
      ddl-auto: update # Options: none(for production), validate(for production), update, create, create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

app:
  jwt:
    secret: ${JWT_SECRET:change_me_in_env}
    expiration-ms: 3600000

---
spring:
  config:
    activate:
      on-profile: local-h2

  datasource:
    url: jdbc:h2:mem:customerdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect

  h2:
    console:
      enabled: true
      path: /h2-console

